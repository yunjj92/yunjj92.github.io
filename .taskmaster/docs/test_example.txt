<context>
# Overview
이 프로젝트는 기존 **Jekyll 기반 정적 사이트**에 **Vite 빌드 시스템**을 통합하여, 최신 개발 경험(빠른 HMR, 모듈 번들링, 최적화된 배포)을 제공하려는 시도입니다.

* **문제가 되는 부분**:
  Jekyll의 `index.html`은 Liquid 템플릿 문법을 포함하고 있지만, Vite는 이를 엔트리 포인트로 사용하려고 하면서 빌드 충돌이 발생합니다.

* **누구를 위한 것인가**:

  * GitHub Pages/Jekyll 기반 블로그 및 문서 사이트를 운영하면서 최신 JS 빌드 도구(Vite)를 활용하고 싶은 개발자
  * CSS/JS 최적화와 빠른 로컬 개발 환경이 필요한 개인/팀

* **가치**:

  * Jekyll의 강력한 템플릿 시스템과 Vite의 최신 빌드 속도를 결합
  * 유지보수성과 배포 효율성 향상

    </context>

<PRD>
# Technical Architecture
- **System Components**
  - **Jekyll** → 정적 페이지 생성기 (Liquid 기반 템플릿 처리)
  - **Vite** → JS/CSS 번들링 및 개발 서버 제공
  - **Integration Layer** → Vite 빌드 결과를 Jekyll `_site`에 반영

* **Data Models**

  * HTML 템플릿(`_layouts`, `_includes`, `index.html`)
  * JS 모듈(`assets/js`)
  * CSS 스타일(`assets/css`)

* **APIs and Integrations**

  * GitHub Pages (Jekyll native 지원) 또는 Netlify/Vercel (CI/CD 빌드 파이프라인)
  * Vite Dev Server (`localhost:5173`) → 개발 중 프론트엔드 자산 제공

* **Infrastructure Requirements**

  * Node.js (Vite 실행)
  * Ruby + Bundler (Jekyll 실행)
  * 빌드 단계에서 Vite → Jekyll → 최종 산출물 `_site` 순으로 처리

---

# Development Roadmap

### Phase 1: MVP

* Vite entry 파일 분리 (`index.vite.html` 생성)
* `vite.config.js` 수정 → 엔트리 포인트를 Jekyll 템플릿이 아닌 별도 파일로 지정
* `hideLayer()` 함수 (`assets/js/main.js:12`) 완성
* Vite 빌드 결과를 Jekyll `_site`에 통합

### Phase 2: Core Enhancements

* Jekyll `_layouts`, `_includes` 구조와 Vite 아웃풋(`dist`) 자동 병합
* CSS/PostCSS/Tailwind 등 Vite 기반 빌드 체인 적용
* GitHub Pages 배포 스크립트 작성 (또는 Netlify/Vercel CI 설정)

### Phase 3: Advanced Improvements

* Asset Versioning (Cache Busting)
* 이미지 최적화 플러그인 적용
* 다국어(i18n) 지원
* Lighthouse 성능 최적화

---

# Logical Dependency Chain

1. **Foundation**

   * Jekyll과 Vite 충돌 제거 (entry 파일 분리)
   * JS 함수(`hideLayer`) 정상 동작 보장

2. **Usable Frontend**

   * Vite 빌드 결과가 `_site`에 반영되어 브라우저에서 정상 동작
   * 로컬 개발 환경에서 HMR 지원

3. **Progressive Enhancements**

   * CSS 최적화, 플러그인 통합, 배포 자동화
   * 성능 개선 및 추가 기능 (i18n, 이미지 최적화 등)

---

# Risks and Mitigations

* **빌드 충돌 (Jekyll vs Vite)**
  → Entry 파일 분리 전략으로 해결
* **배포 복잡성**
  → GitHub Pages 기본 지원 vs Netlify/Vercel CI/CD 중 선택
* **리소스 제약**
  → MVP는 최소 기능 (`hideLayer()`, entry 분리, 빌드 정상화)에 집중
* **미완성 함수로 인한 JS 오류**
  → 단기적으로 `hideLayer()` 보완하여 사용자 경험 보장

---

# Appendix

* **Research Findings**

  * Jekyll은 GitHub Pages 기본 지원 → 유지보수 용이
  * Vite는 최신 JS 빌드 표준 → 빠른 HMR, 최적화된 번들 제공
  * 두 시스템을 공존시키려면 entry 분리 및 빌드 순서 제어 필요

* **Technical Specifications**

  * Node.js 22.x + npm 10.x
  * Ruby 3.x + Bundler
  * Jekyll 4.x
  * Vite 5.x

    </PRD>
